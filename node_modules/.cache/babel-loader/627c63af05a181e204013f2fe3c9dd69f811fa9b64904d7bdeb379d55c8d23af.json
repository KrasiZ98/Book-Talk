{"ast":null,"code":"var _jsxFileName = \"D:\\\\Book Talk\\\\client\\\\src\\\\context\\\\BooksContext.js\",\n  _s = $RefreshSig$();\nimport { createContext, useState } from \"react\";\nimport useGetAll from \"../custom-hooks/hooks-requests/useGetAll\";\nimport * as bookServices from \"../services/bookServices\";\nimport { useNavigate } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const BooksContext = /*#__PURE__*/createContext();\nconst BooksContextProvider = props => {\n  _s();\n  const {\n    books,\n    setBooks,\n    loading,\n    fetchError\n  } = useGetAll([]);\n  const [serverError, setServerError] = useState(null);\n  const naviagte = useNavigate();\n  async function bookCreate(book) {\n    const result = await bookServices.create(book);\n    if (result.message) {\n      setServerError(result.message);\n      return serverError;\n    }\n    setBooks(oldBooks => [...oldBooks, result]);\n    naviagte('/catalog');\n  }\n  async function bookUpdate(bookId, book) {\n    const result = await bookServices.update(bookId, book);\n    if (result.message) {\n      setServerError(result.message);\n      return serverError;\n    }\n    setBooks(books.map(x => x.id === Number(bookId) ? result : x));\n    naviagte(`/edit/${bookId}`);\n    ;\n  }\n  async function bookDelete(bookId) {}\n  return /*#__PURE__*/_jsxDEV(BooksContext.Provider, {\n    value: {\n      books,\n      serverError,\n      fetchError,\n      bookCreate,\n      bookUpdate,\n      bookDelete\n    },\n    children: props.children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 42,\n    columnNumber: 9\n  }, this);\n};\n_s(BooksContextProvider, \"OIcJg3b/f353aM9S+jWxFj0heR0=\", false, function () {\n  return [useGetAll, useNavigate];\n});\n_c = BooksContextProvider;\nexport default BooksContextProvider;\nvar _c;\n$RefreshReg$(_c, \"BooksContextProvider\");","map":{"version":3,"names":["createContext","useState","useGetAll","bookServices","useNavigate","jsxDEV","_jsxDEV","BooksContext","BooksContextProvider","props","_s","books","setBooks","loading","fetchError","serverError","setServerError","naviagte","bookCreate","book","result","create","message","oldBooks","bookUpdate","bookId","update","map","x","id","Number","bookDelete","Provider","value","children","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["D:/Book Talk/client/src/context/BooksContext.js"],"sourcesContent":["import { createContext, useState } from \"react\";\r\nimport useGetAll from \"../custom-hooks/hooks-requests/useGetAll\";\r\nimport * as bookServices from \"../services/bookServices\";\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\nexport const BooksContext = createContext();\r\n\r\nconst BooksContextProvider = (props) => {\r\n\r\n    const { books, setBooks, loading, fetchError } = useGetAll([]);\r\n    const [serverError, setServerError] = useState(null);\r\n    const naviagte = useNavigate();\r\n\r\n    async function bookCreate(book) {\r\n        const result = await bookServices.create(book);\r\n        if (result.message) {\r\n            setServerError(result.message);\r\n            return serverError;\r\n        }\r\n\r\n        setBooks(oldBooks => [...oldBooks, result]);\r\n        naviagte('/catalog');\r\n    }\r\n\r\n    async function bookUpdate(bookId, book) {\r\n        const result = await bookServices.update(bookId, book);\r\n        if (result.message) {\r\n            setServerError(result.message);\r\n            return serverError;\r\n        }\r\n\r\n        setBooks(books.map(x => x.id === Number(bookId) ? result : x));\r\n        naviagte(`/edit/${bookId}`);;\r\n    }\r\n\r\n    async function bookDelete(bookId) {\r\n\r\n    }\r\n\r\n\r\n    return (\r\n        <BooksContext.Provider value={{ books, serverError, fetchError, bookCreate, bookUpdate, bookDelete }}>\r\n            {props.children}\r\n        </BooksContext.Provider>\r\n    )\r\n}\r\n\r\nexport default BooksContextProvider;"],"mappings":";;AAAA,SAASA,aAAa,EAAEC,QAAQ,QAAQ,OAAO;AAC/C,OAAOC,SAAS,MAAM,0CAA0C;AAChE,OAAO,KAAKC,YAAY,MAAM,0BAA0B;AACxD,SAASC,WAAW,QAAQ,kBAAkB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE/C,OAAO,MAAMC,YAAY,gBAAGP,aAAa,CAAC,CAAC;AAE3C,MAAMQ,oBAAoB,GAAIC,KAAK,IAAK;EAAAC,EAAA;EAEpC,MAAM;IAAEC,KAAK;IAAEC,QAAQ;IAAEC,OAAO;IAAEC;EAAW,CAAC,GAAGZ,SAAS,CAAC,EAAE,CAAC;EAC9D,MAAM,CAACa,WAAW,EAAEC,cAAc,CAAC,GAAGf,QAAQ,CAAC,IAAI,CAAC;EACpD,MAAMgB,QAAQ,GAAGb,WAAW,CAAC,CAAC;EAE9B,eAAec,UAAUA,CAACC,IAAI,EAAE;IAC5B,MAAMC,MAAM,GAAG,MAAMjB,YAAY,CAACkB,MAAM,CAACF,IAAI,CAAC;IAC9C,IAAIC,MAAM,CAACE,OAAO,EAAE;MAChBN,cAAc,CAACI,MAAM,CAACE,OAAO,CAAC;MAC9B,OAAOP,WAAW;IACtB;IAEAH,QAAQ,CAACW,QAAQ,IAAI,CAAC,GAAGA,QAAQ,EAAEH,MAAM,CAAC,CAAC;IAC3CH,QAAQ,CAAC,UAAU,CAAC;EACxB;EAEA,eAAeO,UAAUA,CAACC,MAAM,EAAEN,IAAI,EAAE;IACpC,MAAMC,MAAM,GAAG,MAAMjB,YAAY,CAACuB,MAAM,CAACD,MAAM,EAAEN,IAAI,CAAC;IACtD,IAAIC,MAAM,CAACE,OAAO,EAAE;MAChBN,cAAc,CAACI,MAAM,CAACE,OAAO,CAAC;MAC9B,OAAOP,WAAW;IACtB;IAEAH,QAAQ,CAACD,KAAK,CAACgB,GAAG,CAACC,CAAC,IAAIA,CAAC,CAACC,EAAE,KAAKC,MAAM,CAACL,MAAM,CAAC,GAAGL,MAAM,GAAGQ,CAAC,CAAC,CAAC;IAC9DX,QAAQ,CAAE,SAAQQ,MAAO,EAAC,CAAC;IAAC;EAChC;EAEA,eAAeM,UAAUA,CAACN,MAAM,EAAE,CAElC;EAGA,oBACInB,OAAA,CAACC,YAAY,CAACyB,QAAQ;IAACC,KAAK,EAAE;MAAEtB,KAAK;MAAEI,WAAW;MAAED,UAAU;MAAEI,UAAU;MAAEM,UAAU;MAAEO;IAAW,CAAE;IAAAG,QAAA,EAChGzB,KAAK,CAACyB;EAAQ;IAAAC,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACI,CAAC;AAEhC,CAAC;AAAA5B,EAAA,CAtCKF,oBAAoB;EAAA,QAE2BN,SAAS,EAEzCE,WAAW;AAAA;AAAAmC,EAAA,GAJ1B/B,oBAAoB;AAwC1B,eAAeA,oBAAoB;AAAC,IAAA+B,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}