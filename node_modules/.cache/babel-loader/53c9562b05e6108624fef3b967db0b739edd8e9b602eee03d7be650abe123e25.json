{"ast":null,"code":"var _s = $RefreshSig$();\nimport React, { useContext, useEffect, useState } from 'react';\nimport { AuthContext } from '../../context/AuthContext';\nimport * as authServices from '../../services/authServices';\nimport editUserValidation from '../../components/edit-user/editUserValidation';\nimport { useParams } from 'react-router-dom';\nexport default function useUserEdit() {\n  _s();\n  const {\n    id\n  } = useParams();\n  const {\n    users,\n    updateUser\n  } = useContext(AuthContext);\n  const [formError, setFormError] = useState({});\n  const currentUser = users.find(x => x.id === Number(id));\n  console.log(currentUser);\n  useEffect(() => {\n    // Find the user data once it's available\n    const user = users.find(x => x.id === Number(id));\n    if (user) {\n      setCurrentUser({\n        email: user.email,\n        username: user.username,\n        image: user.image,\n        password: user.password,\n        reppass: user.reppass,\n        wishReadBook: user.wishReadBook\n      });\n    }\n  }, [id, users]);\n  function onChange(e) {\n    setFormValue(oldValue => ({\n      ...oldValue,\n      [e.target.name]: e.target.value\n    }));\n  }\n  function onSubmit(event) {\n    event.preventDefault();\n    const error = editUserValidation(formValue);\n    setFormError(error);\n    if (Object.values(error).length === 0) {\n      updateUser(id, formValue);\n    }\n  }\n  return {\n    formValue,\n    formError,\n    onChange,\n    onSubmit\n  };\n}\n_s(useUserEdit, \"oD7U3phtwve33xxA3VSH7tnAjJU=\", false, function () {\n  return [useParams];\n});","map":{"version":3,"names":["React","useContext","useEffect","useState","AuthContext","authServices","editUserValidation","useParams","useUserEdit","_s","id","users","updateUser","formError","setFormError","currentUser","find","x","Number","console","log","user","setCurrentUser","email","username","image","password","reppass","wishReadBook","onChange","e","setFormValue","oldValue","target","name","value","onSubmit","event","preventDefault","error","formValue","Object","values","length"],"sources":["D:/Book Talk/client/src/custom-hooks/hooks-forms/useUserEdit.js"],"sourcesContent":["import React, { useContext, useEffect, useState } from 'react'\r\nimport { AuthContext } from '../../context/AuthContext';\r\nimport * as authServices from '../../services/authServices';\r\nimport editUserValidation from '../../components/edit-user/editUserValidation';\r\nimport { useParams } from 'react-router-dom';\r\n\r\nexport default function useUserEdit() {\r\n  \r\n    const {id} = useParams();\r\n  \r\n    const { users, updateUser } = useContext(AuthContext);\r\n\r\n    const [formError, setFormError] = useState({});\r\n\r\n    const currentUser = users.find(x => x.id === Number(id));\r\n\r\n    console.log(currentUser)\r\n\r\n  \r\n\r\n    useEffect(() => {\r\n        // Find the user data once it's available\r\n        const user = users.find((x) => x.id === Number(id));\r\n\r\n        if (user) {\r\n            setCurrentUser({\r\n                email: user.email,\r\n                username: user.username,\r\n                image: user.image,\r\n                password: user.password,\r\n                reppass: user.reppass,\r\n                wishReadBook: user.wishReadBook,\r\n            });\r\n        }\r\n    }, [id, users]);\r\n\r\n\r\n    function onChange(e) {\r\n        setFormValue(oldValue => ({\r\n            ...oldValue,\r\n            [e.target.name]: e.target.value\r\n        }));\r\n    }\r\n\r\n    function onSubmit(event) {\r\n        event.preventDefault();\r\n        const error = editUserValidation(formValue);\r\n        setFormError(error);\r\n\r\n        if (Object.values(error).length === 0) {\r\n            updateUser(id, formValue)\r\n        }\r\n    }\r\n\r\n    return { formValue, formError, onChange, onSubmit };\r\n}\r\n"],"mappings":";AAAA,OAAOA,KAAK,IAAIC,UAAU,EAAEC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAC9D,SAASC,WAAW,QAAQ,2BAA2B;AACvD,OAAO,KAAKC,YAAY,MAAM,6BAA6B;AAC3D,OAAOC,kBAAkB,MAAM,+CAA+C;AAC9E,SAASC,SAAS,QAAQ,kBAAkB;AAE5C,eAAe,SAASC,WAAWA,CAAA,EAAG;EAAAC,EAAA;EAElC,MAAM;IAACC;EAAE,CAAC,GAAGH,SAAS,CAAC,CAAC;EAExB,MAAM;IAAEI,KAAK;IAAEC;EAAW,CAAC,GAAGX,UAAU,CAACG,WAAW,CAAC;EAErD,MAAM,CAACS,SAAS,EAAEC,YAAY,CAAC,GAAGX,QAAQ,CAAC,CAAC,CAAC,CAAC;EAE9C,MAAMY,WAAW,GAAGJ,KAAK,CAACK,IAAI,CAACC,CAAC,IAAIA,CAAC,CAACP,EAAE,KAAKQ,MAAM,CAACR,EAAE,CAAC,CAAC;EAExDS,OAAO,CAACC,GAAG,CAACL,WAAW,CAAC;EAIxBb,SAAS,CAAC,MAAM;IACZ;IACA,MAAMmB,IAAI,GAAGV,KAAK,CAACK,IAAI,CAAEC,CAAC,IAAKA,CAAC,CAACP,EAAE,KAAKQ,MAAM,CAACR,EAAE,CAAC,CAAC;IAEnD,IAAIW,IAAI,EAAE;MACNC,cAAc,CAAC;QACXC,KAAK,EAAEF,IAAI,CAACE,KAAK;QACjBC,QAAQ,EAAEH,IAAI,CAACG,QAAQ;QACvBC,KAAK,EAAEJ,IAAI,CAACI,KAAK;QACjBC,QAAQ,EAAEL,IAAI,CAACK,QAAQ;QACvBC,OAAO,EAAEN,IAAI,CAACM,OAAO;QACrBC,YAAY,EAAEP,IAAI,CAACO;MACvB,CAAC,CAAC;IACN;EACJ,CAAC,EAAE,CAAClB,EAAE,EAAEC,KAAK,CAAC,CAAC;EAGf,SAASkB,QAAQA,CAACC,CAAC,EAAE;IACjBC,YAAY,CAACC,QAAQ,KAAK;MACtB,GAAGA,QAAQ;MACX,CAACF,CAAC,CAACG,MAAM,CAACC,IAAI,GAAGJ,CAAC,CAACG,MAAM,CAACE;IAC9B,CAAC,CAAC,CAAC;EACP;EAEA,SAASC,QAAQA,CAACC,KAAK,EAAE;IACrBA,KAAK,CAACC,cAAc,CAAC,CAAC;IACtB,MAAMC,KAAK,GAAGjC,kBAAkB,CAACkC,SAAS,CAAC;IAC3C1B,YAAY,CAACyB,KAAK,CAAC;IAEnB,IAAIE,MAAM,CAACC,MAAM,CAACH,KAAK,CAAC,CAACI,MAAM,KAAK,CAAC,EAAE;MACnC/B,UAAU,CAACF,EAAE,EAAE8B,SAAS,CAAC;IAC7B;EACJ;EAEA,OAAO;IAAEA,SAAS;IAAE3B,SAAS;IAAEgB,QAAQ;IAAEO;EAAS,CAAC;AACvD;AAAC3B,EAAA,CAjDuBD,WAAW;EAAA,QAElBD,SAAS;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}